<section class="evidence-hero">
  <!-- Floating decorative shapes -->
  <div class="evidence-hero__shape evidence-hero__shape--1"></div>
  <div class="evidence-hero__shape evidence-hero__shape--2"></div>
  <div class="evidence-hero__shape evidence-hero__shape--3"></div>

  <h1 class="evidence-hero__title">THE EVIDENCE ARCHIVE</h1>
  <p class="evidence-hero__subtitle">
    We didn't invent these standards.<br />
    Nature did. Science confirmed it.
  </p>

  <div class="evidence-hero__chips">
    <button type="button" class="evidence-chip evidence-chip--1">[Peer Reviewed]</button>
    <button type="button" class="evidence-chip evidence-chip--2">[Soil Science]</button>
    <button type="button" class="evidence-chip evidence-chip--3">[Toxicology]</button>
  </div>
</section>

<section class="evidence-list">
  @if (loading) {
    <div class="evidence-list__loading">
      <div class="evidence-list__spinner"></div>
      <p>Loading research papers...</p>
    </div>
  }

  @if (error) {
    <div class="evidence-list__error">{{ error }}</div>
  }

  @for (paper of papers; track paper.id; let i = $index) {
    <article 
      class="evidence-card evidence-card--reveal" 
      [class.evidence-card--primary]="isSelected(paper.id)"
      [style.--reveal-delay]="(i * 0.1) + 's'"
      (click)="selectPaper(paper.id)">
      
      <header class="evidence-card__header">
        <h2>STUDY {{ i + 1 }}: {{ paper.title }}</h2>
        <p class="evidence-card__source">Source: {{ paper.subtitle }}</p>
      </header>

      @if (isSelected(paper.id)) {
        <div class="evidence-card__body">
          <div class="evidence-card__content" [innerHTML]="paper.description"></div>
          
          <p class="evidence-card__date">Published: {{ formatDate(paper.publication_date) }}</p>

          <div class="evidence-card__actions">
            @if (paper.external_link) {
              <button 
                type="button" 
                class="evidence-card__summary-button" 
                (click)="openExternalLink($event, paper.external_link)">
                [READ SUMMARY SOURCE]
              </button>
            }
            
            @if (paper.pdf_file) {
              <button 
                type="button" 
                class="evidence-card__download-button" 
                (click)="downloadPdf($event, paper.pdf_file)">
                Download PDF
              </button>
            }
          </div>
        </div>
      }
    </article>
  }
</section>

<section class="evidence-cta">
  <div class="evidence-cta__card">
    <h2 class="evidence-cta__title">The Data is Clear. The Choice is Logical.</h2>
    <button type="button" class="evidence-cta__button" [routerLink]="['/join-waitlist']">Join the Waitlist</button>
  </div>
</section>
